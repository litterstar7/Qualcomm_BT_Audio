<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Trap API: UART</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Trap API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__trapset__uart.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">UART<div class="ingroups"><a class="el" href="group__api.html">Customer Trap API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga84dbc23b1904fa442fd1a17c8ec73a98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__uart.html#ga84dbc23b1904fa442fd1a17c8ec73a98">StreamUartConfigure</a> (vm_uart_rate rate, vm_uart_stop stop, vm_uart_parity parity)</td></tr>
<tr class="memdesc:ga84dbc23b1904fa442fd1a17c8ec73a98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically configure the UART settings. PIOs are not handled by this but can be assigned to the UART at any point. This is done by using PioSetMapPins32Bank to put the PIO under HW control and then PioSetFunction to set the function to one of the UART signals. Please note that one PIO can be assigned for multiple signals at the same time. All UART signals are initially muxed to PIO 96 (which doesn't exist) to make sure there are no conflicts. Once a PIO is muxed to a UART signal, that signal cannot be muxed back to PIO 96. This trap is ignored unless raw access to the UART is enabled. UART is enabled by adding TRANSPORT_USER to the firmware defines (enabled by default).  <a href="#ga84dbc23b1904fa442fd1a17c8ec73a98">More...</a><br /></td></tr>
<tr class="separator:ga84dbc23b1904fa442fd1a17c8ec73a98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga028d038caa1d13aff673eb20278756b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__trapset__uart.html#ga028d038caa1d13aff673eb20278756b5">StreamUartSink</a> (void)</td></tr>
<tr class="memdesc:ga028d038caa1d13aff673eb20278756b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the Sink associated with the raw UART. Returns zero if it is unavailable (for example the appropriate transport has not been configured.) If the Source buffer overflows it will cause the chip to panic.  <a href="#ga028d038caa1d13aff673eb20278756b5">More...</a><br /></td></tr>
<tr class="separator:ga028d038caa1d13aff673eb20278756b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga84dbc23b1904fa442fd1a17c8ec73a98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84dbc23b1904fa442fd1a17c8ec73a98">&#9670;&nbsp;</a></span>StreamUartConfigure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StreamUartConfigure </td>
          <td>(</td>
          <td class="paramtype">vm_uart_rate&#160;</td>
          <td class="paramname"><em>rate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vm_uart_stop&#160;</td>
          <td class="paramname"><em>stop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vm_uart_parity&#160;</td>
          <td class="paramname"><em>parity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dynamically configure the UART settings. PIOs are not handled by this but can be assigned to the UART at any point. This is done by using PioSetMapPins32Bank to put the PIO under HW control and then PioSetFunction to set the function to one of the UART signals. Please note that one PIO can be assigned for multiple signals at the same time. All UART signals are initially muxed to PIO 96 (which doesn't exist) to make sure there are no conflicts. Once a PIO is muxed to a UART signal, that signal cannot be muxed back to PIO 96. This trap is ignored unless raw access to the UART is enabled. UART is enabled by adding TRANSPORT_USER to the firmware defines (enabled by default). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rate</td><td>The UART rate to use. Custom baud rates can be calculated as round(baud_rate_in_mbps*4096). Consult the data sheet for part specific information. </td></tr>
    <tr><td class="paramname">stop</td><td>The UART stop to use. </td></tr>
    <tr><td class="paramname">parity</td><td>The UART parity to use. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga028d038caa1d13aff673eb20278756b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga028d038caa1d13aff673eb20278756b5">&#9670;&nbsp;</a></span>StreamUartSink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sink___8h.html#a250a23fcb6a29255bb2526a002d691b2">Sink</a> StreamUartSink </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the Sink associated with the raw UART. Returns zero if it is unavailable (for example the appropriate transport has not been configured.) If the Source buffer overflows it will cause the chip to panic. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
