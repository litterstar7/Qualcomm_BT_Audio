<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Libraries: gatt_root_key_client/gatt_root_key_client.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Libraries
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('gatt__root__key__client_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">gatt_root_key_client.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header file for the GATT root key client library.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The root_key internal structure for the client role.  <a href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t___i_n_i_t___c_f_m___t.html">GATT_ROOT_KEY_CLIENT_INIT_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contents of the GATT_ROOT_KEY_CLIENT_INIT_CFM message that is sent by the library, as a response to the initialisation request.  <a href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t___i_n_i_t___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t___s_e_t___i_n_d_i_c_a_t_i_o_n___e_n_a_b_l_e___c_f_m___t.html">GATT_ROOT_KEY_CLIENT_SET_INDICATION_ENABLE_CFM_T</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contents of the GATT_ROOT_KEY_CLIENT_SET_NOTIFICATION_ENABLE_CFM message that is sent by the library, as a result of setting notifications on the server.  <a href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t___s_e_t___i_n_d_i_c_a_t_i_o_n___e_n_a_b_l_e___c_f_m___t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab349b39d4c57ec8ad41195781c05a07b"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#ab349b39d4c57ec8ad41195781c05a07b">gatt_root_key_client_message_id_t</a> { <a class="el" href="gatt__root__key__client_8h.html#ab349b39d4c57ec8ad41195781c05a07baa70e374ae3d2b7cb863162ee956bab85">GATT_ROOT_KEY_CLIENT_INIT_CFM</a> = GATT_ROOT_KEY_CLIENT_MESSAGE_BASE
 }</td></tr>
<tr class="memdesc:ab349b39d4c57ec8ad41195781c05a07b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of messages a client task may receive from the root_key client library.  <a href="gatt__root__key__client_8h.html#ab349b39d4c57ec8ad41195781c05a07b">More...</a><br /></td></tr>
<tr class="separator:ab349b39d4c57ec8ad41195781c05a07b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53430c9bc3457a93a7d05f3d9a7a7a84"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#a53430c9bc3457a93a7d05f3d9a7a7a84">gatt_root_key_client_status_t</a> </td></tr>
<tr class="memdesc:a53430c9bc3457a93a7d05f3d9a7a7a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code returned from the GATT root_key client library.  <a href="gatt__root__key__client_8h.html#a53430c9bc3457a93a7d05f3d9a7a7a84">More...</a><br /></td></tr>
<tr class="separator:a53430c9bc3457a93a7d05f3d9a7a7a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1770785e0b0d55083b5c749ce8696345"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345">gatt_root_key_client_write_key_status_t</a> { <a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345adfefbf34f110182921b51b891e21d0ed">gatt_root_key_client_write_keys_success</a>, 
<a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345a875b84e7d29efbc3220df3601f6079b6">gatt_root_key_client_write_keys_fatal</a>, 
<a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345ac765c78e9f8c4de0979de6d078eaa777">gatt_root_key_client_write_keys_disabled</a>, 
<a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345a8edca75d4c1bffd24382f7ec7778acc5">gatt_root_key_client_write_keys_parameter_error</a>
 }</td></tr>
<tr class="memdesc:a1770785e0b0d55083b5c749ce8696345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Status code returned following a GattRootKeyClientWriteKey().  <a href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345">More...</a><br /></td></tr>
<tr class="separator:a1770785e0b0d55083b5c749ce8696345"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aadd226c3f4d235f92a3b74136c08ed59"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#aadd226c3f4d235f92a3b74136c08ed59">GattRootKeyClientChallengePeer</a> (<a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *instance, const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_KEY_T</a> *secret, const bdaddr *local_address, const bdaddr *remote_address)</td></tr>
<tr class="separator:aadd226c3f4d235f92a3b74136c08ed59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab36bd8e64086ac133e9112d9247eb396"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#ab36bd8e64086ac133e9112d9247eb396">GattRootKeyClientDestroy</a> (<a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *instance)</td></tr>
<tr class="memdesc:ab36bd8e64086ac133e9112d9247eb396"><td class="mdescLeft">&#160;</td><td class="mdescRight">When a GATT connection is removed, the application must remove all client service instances that were associated with the connection (using the CID value). This is the clean up routine as a result of calling the GattRootKeyClientInit API. That is, the GattRootKeyClientInit API is called when a connection is made, and the GattRootKeyClientDestroy is called when the connection is removed.  <a href="#ab36bd8e64086ac133e9112d9247eb396">More...</a><br /></td></tr>
<tr class="separator:ab36bd8e64086ac133e9112d9247eb396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af43d4e46ed8e0b91cd8154b72b5a20"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#a8af43d4e46ed8e0b91cd8154b72b5a20">GattRootKeyClientInit</a> (<a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *instance, Task app_task, uint16 cid, uint16 start_handle, uint16 end_handle)</td></tr>
<tr class="memdesc:a8af43d4e46ed8e0b91cd8154b72b5a20"><td class="mdescLeft">&#160;</td><td class="mdescRight">After the VM application has used the GATT manager library to establish a connection to a discovered BLE device in the Client role, it can discover any supported services in which it has an interest. It should then register with the relevant client service library (passing the relevant CID and handles to the service). For the root_key client it will use this API. The GATT manager will then route notifications and indications to the correct instance of the client service library for the CID.  <a href="#a8af43d4e46ed8e0b91cd8154b72b5a20">More...</a><br /></td></tr>
<tr class="separator:a8af43d4e46ed8e0b91cd8154b72b5a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81780846d88d178a28f577df021727b0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="gatt__root__key__client_8h.html#a81780846d88d178a28f577df021727b0">GattRootKeyClientWriteKeyPeer</a> (<a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *instance, const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_IR_KEY_T</a> *ir_key, const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_ER_KEY_T</a> *er_key)</td></tr>
<tr class="separator:a81780846d88d178a28f577df021727b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header file for the GATT root key client library. </p>
<p>This file provides documentation for the GATT root key client library API (library name: gatt_root_key_client). </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab349b39d4c57ec8ad41195781c05a07b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab349b39d4c57ec8ad41195781c05a07b">&#9670;&nbsp;</a></span>gatt_root_key_client_message_id_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gatt__root__key__client_8h.html#ab349b39d4c57ec8ad41195781c05a07b">gatt_root_key_client_message_id_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enumeration of messages a client task may receive from the root_key client library. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab349b39d4c57ec8ad41195781c05a07baa70e374ae3d2b7cb863162ee956bab85"></a>GATT_ROOT_KEY_CLIENT_INIT_CFM&#160;</td><td class="fielddoc"><p>Message sent when the gatt client is initialised </p>
</td></tr>
</table>

</div>
</div>
<a id="a53430c9bc3457a93a7d05f3d9a7a7a84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53430c9bc3457a93a7d05f3d9a7a7a84">&#9670;&nbsp;</a></span>gatt_root_key_client_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gatt__root__key__client_8h.html#a53430c9bc3457a93a7d05f3d9a7a7a84">gatt_root_key_client_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code returned from the GATT root_key client library. </p>
<p>This status code indicates the outcome of the request. </p>

</div>
</div>
<a id="a1770785e0b0d55083b5c749ce8696345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1770785e0b0d55083b5c749ce8696345">&#9670;&nbsp;</a></span>gatt_root_key_client_write_key_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="gatt__root__key__client_8h.html#a1770785e0b0d55083b5c749ce8696345">gatt_root_key_client_write_key_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Status code returned following a GattRootKeyClientWriteKey(). </p>
<p>The status is returned in a GATT_ROOT_KEY_CLIENT_WRITE_KEY_IND_T message. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a1770785e0b0d55083b5c749ce8696345adfefbf34f110182921b51b891e21d0ed"></a>gatt_root_key_client_write_keys_success&#160;</td><td class="fielddoc"><p>Indicates that the key transfer has completed successfully </p>
</td></tr>
<tr><td class="fieldname"><a id="a1770785e0b0d55083b5c749ce8696345a875b84e7d29efbc3220df3601f6079b6"></a>gatt_root_key_client_write_keys_fatal&#160;</td><td class="fielddoc"><p>Indicates that the key transfer has failed and cannot be repeated without a fresh challenge. </p>
</td></tr>
<tr><td class="fieldname"><a id="a1770785e0b0d55083b5c749ce8696345ac765c78e9f8c4de0979de6d078eaa777"></a>gatt_root_key_client_write_keys_disabled&#160;</td><td class="fielddoc"><p>Cannot transfer keys as the service is disabled </p>
</td></tr>
<tr><td class="fieldname"><a id="a1770785e0b0d55083b5c749ce8696345a8edca75d4c1bffd24382f7ec7778acc5"></a>gatt_root_key_client_write_keys_parameter_error&#160;</td><td class="fielddoc"><p>Cannot transfer keys as the service is disabled </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aadd226c3f4d235f92a3b74136c08ed59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadd226c3f4d235f92a3b74136c08ed59">&#9670;&nbsp;</a></span>GattRootKeyClientChallengePeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GattRootKeyClientChallengePeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_KEY_T</a> *&#160;</td>
          <td class="paramname"><em>secret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>local_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bdaddr *&#160;</td>
          <td class="paramname"><em>remote_address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start the process of confirming the peer device is compatible</p>
<p>This function starts an autonomous exchange with the peer, completing by sending an GATT_ROOT_KEY_CLIENT_CHALLENGE_PEER_IND message.</p>
<dl class="section note"><dt>Note</dt><dd>The device bluetooth addresses used in the challenge are supplied in this API, allowing the application to decide if verifying using public, resolvable or random addresses.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The gatt client instance memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">secret</td><td>The shared secret that is tested by the challenge </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">local_address</td><td>The bluetooth address for this device to be verified as part of the challenge. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remote_address</td><td>The bluetooth address for this device to be verified as part of the challenge.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the client is able to start processing the challenge, FALSE if the client is not in a valid state. </dd></dl>

</div>
</div>
<a id="ab36bd8e64086ac133e9112d9247eb396"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36bd8e64086ac133e9112d9247eb396">&#9670;&nbsp;</a></span>GattRootKeyClientDestroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GattRootKeyClientDestroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>When a GATT connection is removed, the application must remove all client service instances that were associated with the connection (using the CID value). This is the clean up routine as a result of calling the GattRootKeyClientInit API. That is, the GattRootKeyClientInit API is called when a connection is made, and the GattRootKeyClientDestroy is called when the connection is removed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The client instance that was passed into the GattRootKeyClientInit API.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a8af43d4e46ed8e0b91cd8154b72b5a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af43d4e46ed8e0b91cd8154b72b5a20">&#9670;&nbsp;</a></span>GattRootKeyClientInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GattRootKeyClientInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Task&#160;</td>
          <td class="paramname"><em>app_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>cid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>start_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16&#160;</td>
          <td class="paramname"><em>end_handle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>After the VM application has used the GATT manager library to establish a connection to a discovered BLE device in the Client role, it can discover any supported services in which it has an interest. It should then register with the relevant client service library (passing the relevant CID and handles to the service). For the root_key client it will use this API. The GATT manager will then route notifications and indications to the correct instance of the client service library for the CID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>A valid area of memory that the service library can use. </td></tr>
    <tr><td class="paramname">app_task</td><td>The Task that will receive the messages sent from this root_key client library. </td></tr>
    <tr><td class="paramname">cid</td><td>The connection ID. </td></tr>
    <tr><td class="paramname">start_handle</td><td>The start handle of the root_key client instance. </td></tr>
    <tr><td class="paramname">end_handle</td><td>The end handle of the root_key client instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a81780846d88d178a28f577df021727b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81780846d88d178a28f577df021727b0">&#9670;&nbsp;</a></span>GattRootKeyClientWriteKeyPeer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GattRootKeyClientWriteKeyPeer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_g_a_t_t___r_o_o_t___k_e_y___c_l_i_e_n_t.html">GATT_ROOT_KEY_CLIENT</a> *&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_IR_KEY_T</a> *&#160;</td>
          <td class="paramname"><em>ir_key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_g_r_k_s___k_e_y___t.html">GRKS_ER_KEY_T</a> *&#160;</td>
          <td class="paramname"><em>er_key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synchronise the keys between devices</p>
<p>Transfer keys to the connected GATT server device. A GATT_ROOT_KEY_CLIENT_WRITE_KEY_IND message is sent on completion or failure.</p>
<p>This function can only be called once a challenge has been successful </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="gatt__root__key__client_8h.html#aadd226c3f4d235f92a3b74136c08ed59">GattRootKeyClientChallengePeer</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">instance</td><td>The gatt client instance memory </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ir_key</td><td>The IR portion of the key to be synchronised </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">er_key</td><td>The IR portion of the key to be synchronised</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the client is able to start processing the key update, FALSE otherwise. If FALSE is returned than a GATT_ROOT_KEY_CLIENT_WRITE_KEY_IND message is sent. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_619834563e84ca1f1c927a05e835742a.html">gatt_root_key_client</a></li><li class="navelem"><a class="el" href="gatt__root__key__client_8h.html">gatt_root_key_client.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
